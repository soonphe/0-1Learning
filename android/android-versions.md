## android-versions

参考android开发者官网：https://developer.android.google.cn/about/versions?hl=zh-cn

### Android 15()[API ]
- 前台服务的变更
- 更改了应用何时可以修改勿扰模式的全局状态
- OpenJDK API 变更
- 限制后台 activity 启动
- 更安全的 intent
- 请求音频焦点的限制 以 Android 15 为目标平台的应用必须是顶级应用或运行前台服务，才能请求音频焦点。如果应用在不符合其中任何一项要求时尝试请求焦点，该调用将返回 AUDIOFOCUS_REQUEST_FAILED。
- 更新后的非 SDK 限制

### Android 14()[API 34]
- 默认拒绝设定精确的闹钟
- 当应用进入缓存时，上下文注册的广播将加入队列
- 应用只能终止自己的后台进程 从 Android 14 开始，当您的应用调用 killBackgroundProcesses() 时，该 API 只能终止您自己应用的后台进程。 如果您传入另一个应用的软件包名称，此方法对该应用的后台进程没有影响，并且 Logcat 中会显示以下消息：
- 各应用语言偏好设定 Android 14 扩展了 Android 13（API 级别 33）中引入的按应用设定语言功能，并包含以下额外功能：


### Android 13(Tiramisu)[API 33]
- 任务管理器 抽屉式通知栏底部有一个按钮，用于指示当前在后台运行的应用的数量。按此按钮时，系统会显示一个对话框，其中会列出不同应用的名称。每个应用的右侧都有一个“停止”按钮
   - 从 Android 13（API 级别 33）开始，用户可以通过抽屉式通知栏完成工作流，以停止具有持续前台服务的应用，如图 1 所示。此功能称为任务管理器。应用必须能够处理这种由用户发起的停止操作。
- 使用 JobScheduler 改进预提取作业处理 利用 JobScheduler，应用可使用 JobInfo.Builder.setPrefetch() 将特定作业标记为“预提取”作业，这意味着，理想情况下这些作业应该在应用下一次启动前提前一点运行，以提升用户体验。过去，JobScheduler 仅使用该信号让预提取作业有机会使用免费或多余的数据。
- 电池资源利用率 Android 13（API 级别 33）支持系统通过以下方式来更有效地管理设备电池续航时间：
  - 更新了有关系统何时将您的应用放入“受限”应用待机模式存储分区的规则。
  - 对于您的应用在以下情况下可以执行的操作制定了新限制：用户因您应用的后台电池用量过高而将其置于“受限”状态。
- 隐私权 通知的运行时权限 Android 13（API 级别 33）引入了运行时通知权限：POST_NOTIFICATIONS。 此更改有助于用户专注于最重要的通知。
- 从剪贴板中隐藏敏感内容 如果您的应用允许用户将敏感内容（例如密码或信用卡信息）复制到剪贴板，则必须在调用 ClipboardManager#setPrimaryClip() 之前向 ClipData 的 ClipDescription 添加一个标志。添加此标志可阻止敏感内容出现在内容预览中。
- 安全性 停止使用共享用户 ID 如果您的应用使用已废弃的 android:sharedUserId 属性，并且不再依赖于该属性的功能，您可以将 android:sharedUserMaxSdkVersion 属性设置为 32，如以下代码段所示：

功能和API概览
- 带主题的应用图标 用户正在选择启用带主题的应用图标 在 Android 13 上选择启用带主题的应用图标
- 各应用语言偏好设定 在系统设置中设置各应用的语言 在许多情况下，多语言用户会将其系统语言设置为某一种语言（例如英语），但又想为特定应用选择其他语言（例如荷兰语、中文或印地语）。为了帮助应用为这些用户提供更好的体验，Android 13 针对支持多种语言的应用引入了以下功能
- 改进了文本和语言支持 Android 13 引入了多项文本和语言功能改进，可帮助您提供更完善的体验，
- 提高了启动画面效率 Android 13 提高了 Splash Screen API 中的动画启动画面的效率：
  - 系统会直接从 AnimatedVectorDrawable 推断动画时长。在 Android 13 之前，必须直接设置 windowSplashScreenAnimationDuration。 
  - 使用新的 windowSplashScreenBehavior 属性可以更好地控制应用是否始终在 Android 13 及更高版本中的启动画面上显示该图标。
- 照片选择器 Android 13（API 级别 33）及更高版本引入了照片选择器体验。应用启动照片选择器时，用户可选择与应用分享特定图片和视频（如个人资料照片），而不是授予应用查看整个媒体库的权限。这是访问用户照片和视频的建议方法。 
  - 照片选择器可为用户提供更好的隐私保护，因为您的应用无需声明任何运行时权限。此外，照片选择器还为应用提供内置标准化界面，从而打造更一致的用户体验。

### Android 12(S)[API 31]***
1.优化了触发问题，新的手势需要更加用力敲击背面
2.引入全新的设计语言 Material You，用户将能够通过自定义调色板和重新设计的小工具来完全个性化自己的手机
3.简化了互动，并重新设计了整个底层系统，提升了系统的流畅性和效率
4.在快捷键设置上，Android 12 也有了变化，用户可以长按电源按钮来调用助理来拨打电话，打开应用程序，提出问题或大声朗读包含大量文字的文章
5.安全性和隐私性进一步提升，保证用户对哪些应用程序正在访问自己的数据有更多的了解和更多的限制
6.引入了 Android 私有计算核心，增强保护用户个人信息的安全性、私密性
7.用户可以控制自己的汽车

对于Android开发者来说，需要注意和处理的适配有：
1. android :exported 这个属性主要是设置Activity是否可由其他应用组件启动，true表示可以，false便是不可以。一般情况下，如果使用了intent-filter,则不能将exported设置为false；否则activity被调用时，系统会抛出ActivityNotFoundException异常。在Android12平台，如果actiity,service或receiver使用intent-filter,并且未显示声明android:exported的值，app将无法安装。
2. SplashScreen Android 12 新增加了SplashScreen的 API，它包括启动时的进入应用的动作、显示应用的图标画面，以及展示应用本身的过渡效果。
3. 其他
   1. 通知中心 Android12更改了可以完全自定义通知外观和行为，以前自定义通知能够使用整个通知区域并提供自己的布局和央视，现在它行为变了。自定义内容视图的通知将不再使用完整通知区域；而是使用系统标准模板。
   2. Android app links验证 Android App Links 是一种特殊类型的 DeepLink ，用于让 Web 直接在 Android 应用中打开相应对应 App 内容而无需用户选择应用。如果你的 App 是依靠 Android App Links 验证在应用中打开网页链接，那么在为 Android App Links 验证添加 intent 过滤器时，请确保使用正确的格式，尤其需要注意的是确保这些 intent-filter 包含 BROWSABLE 类别并支持 https 方案。
   3. 安全和隐私设置
      1. 用户可以请求应用只能访问大致位置信息 如果 App 请求ACCESS_COARSE_LOCATION但未请求ACCESS_FINE_LOCATION那么不会有任何影响。请求ACCESS_FINE_LOCATION运行时权限，还必须请求ACCESS_COARSE_LOCATION权限
      2. SameSite Cookie Cookie 的 SameSite 属性决定了它是可以与任何请求一起发送，还是只能与同站点请求一起发送。 
      没有 SameSite 属性的 Cookie 被视为 SameSite=Lax。 带有 SameSite=None 的 Cookie 还必须指定 Secure 属性，这意味着它们需要安全的上下文，需要通过 HTTPS 发送。 站点的 HTTP 版本和 HTTPS 版本之间的链接现在被视为跨站点请求，因此除非将 Cookie 正确标记为 SameSite=None; Secure，否则 Cookie 不会被发送。 在WebView devtools中切换界面标志 webview-enable-modern-cookie-same-site，可以在测试设备上手动启用 SameSite 行为。
   4. 应用休眠 如果 TargetSDK 为 31 的 App 用户几个月不打开，则系统会自动重置授予的所有权限并将App 置于休眠状态。 即使再次打开也无法恢复，需要重新申请 基本上，只要你的App之前已经做好运行时权限的的判断和申请，那对你的App就几乎没什么影响


### Android 11(R)[API 30]
1. 隐私功能
   - 强制执行分区存储机制 以 Android 11 或更高版本为目标平台的应用始终会受分区存储行为的影响(Scoped Storage)
   - 单次授权 使用单次授权功能，用户可以授予对位置信息、麦克风和摄像头的临时访问权限
   - 自动重置权限 如果用户在 Android 11 或更高版本上几个月未与应用互动，系统会自动重置应用的敏感权限
   - 后台位置信息访问权限 Android 11 更改了用户向应用授予后台位置信息权限的方式
   - 软件包可见性 Android 11 更改了应用查询同一设备上的其他已安装应用及与之互动的方式
   - 前台服务 Android 11 更改了前台服务访问位置信息、相机和麦克风相关数据的方式
2. 行为变更
   - 单次授权：让用户可以选择授予更多对位置信息、麦克风和摄像头的临时访问权限。
   - 权限对话框的可见性：一再拒绝某项权限表示用户希望“不再询问”。
   - 数据访问审核：深入了解您的应用在何处访问私密数据，无论是在您的应用自己的代码中，还是在依赖库的代码中。
   - 系统提醒窗口权限：根据请求自动向某些类型的应用授予 SYSTEM_ALERT_WINDOW 权限。此外，包含 ACTION_MANAGE_OVERLAY_PERMISSION intent 操作的 intent 始终会将用户转至系统设置中的屏幕。
   - 永久 SIM 卡标识符：在 Android 11 及更高版本中，使用 getIccId() 方法访问不可重置的 ICCID 受到限制。该方法会返回一个非 null 的空字符串。如需唯一标识设备上安装的 SIM 卡，请改用 getSubscriptionId() 方法。订阅 ID 会提供一个索引值（从 1 开始），用于唯一识别已安装的 SIM 卡（包括实体 SIM 卡和电子 SIM 卡）。除非设备恢复出厂设置，否则此标识符的值对于给定 SIM 卡是保持不变的。
3. 新功能和API 对话、对话泡、设备和媒体控件、5G、生物识别等等。
   - Android 11 包含一个新的 ControlsProviderService API，可用于提供所连接的外部设备的控件。这些控件显示于 Android 电源菜单中的设备控制器下。如需了解详情，请参阅控制外部设备。

### Android 10(Q)[API 29]
1. 隐私功能 推出新的保护措施，可保护您将需要在应用中支持的用户隐私。
   - 分区存储 过滤到外部存储空间的视图，提供对应用专属文件和媒体集合的访问权限
   - 加强用户对位置信息权限的控制 仅限前台权限，使用户可以更好地控制应用对设备位置信息的访问权限
   - 后台 activity 启动 对从后台启动 activity 的限制
   - 不可重置的硬件标识符 对访问设备序列号和 IMEI 的限制
   - 无线扫描权限 访问某些 WLAN、WLAN 感知和蓝牙扫描方法需要精确的位置信息权限
   - 针对硬件标识符（例如 IMEI、序列号、MAC 和类似数据）实施了新限制。
2. 行为变更 可能会影响应用在 Android 10 上运行的系统更改。
   - - 在后台访问设备位置信息 系统执行后台 Activity 联系人亲密程度信息 随机分配 MAC 地址 相机元数据 权限模型
3. 新功能和 API
   适用于可折叠设备、深色主题、手势导航、连接、媒体、NNAPI、生物识别等的 API。

### Android 8.0(Oreo)[API26]

1. 系统通知：1.1 通知渠道：一个应用可能有多个类型的通知，用户可以根据自身的需求，去决定哪些功能是是可以关的，那些功能是可以开的
   - 1.2 通知角标：以前App图标的通知角标，需要依靠第三方工具才行，现在系统自带这些功能
   - 1.3 通知延迟：对于目前不需要处理的通知，可以设置延迟处理
   - 1.4 通知背景：可以自定义设置通知的背景。 
2. 自动填充框架：自动填充缓存的历史信息
3. 后台执行的限制：后台运行的服务，广播接收器的限制
4. 画中画模式5.自适应图标6.蓝牙体验的提升：传输的速度提升了两倍，距离提升了4倍7.文本的智能选择，智能共享： 一切都是为了提升用户体验，方便好用

### Android7.0新特性

* 分屏多任务
* 增强的Java8语言模式
* 夜间模式

### Android 6.0(Marshmallow)[API 23]
2015年9月30日发布

1. 新增运行时权限概念，Android6.0或以上版本，用户可以完全控制应用权限。当用户安装一个app时，系统默认给app授权部分基础权限，其他敏感权限，需要开发者自己注意，当涉及敏感权限时，开发者需要手动请求系统授予权限，系统这时会弹框给用户，倘若用户拒绝，如果没有保护，app将直接崩溃，倘若有保护，app也无法使用相关功能。
2. 新增瞌睡模式和待机模式，瞌睡模式：当不碰手机，手机自动关闭屏幕后，过一会，手机将进入瞌睡模式。在瞌睡模式下，设备只会定期的唤醒，然后继续执行等待中的任务接着又进入瞌睡；待机模式：假如用户一段时间不触碰手机，设备将进入待机模式。在这个模式下，系统会认为所有app是闲置的，这时系统会关闭网络，并且暂停app之前正在执行的任务。
3. 选择文本时，会在文本附近弹出悬浮框，悬浮框中会有类似“剪切”、“复制”、“粘贴”的选项
* 大量漂亮流畅的动画
* 支持快速充电的切换
* 支持文件夹拖拽应用
* 相机新增专业模式

### Android 5.0(Lolipop)[API 21]
2014 年 10 月 15 日发布。

1. Material design，Material design算是Android 系统风格的里程碑，其3D UI风格新颖，贴近人机交互；
2. 改善通知栏，提升可视化、亲近性、可编辑性。同时支持手机在锁屏状态也可接收到通知，用户可以在锁屏状态下，设置接收全部应用的通知或者接收部分应用的通知或者不接收所有应用的通知
3. 长按Home键或者菜单键以卡片式方式展示后台运行中的app
4. 支持链接标准USB音频设备，包括耳机、扬声器、麦克风等高性能的音频设备
5. 托管配置 ，Android 5.0 提供了用于在企业环境内运行应用的新功能。如果用户具有现有的个人帐户，则设备管理员可以启动托管配置流程来向设备添加一个共存但单独的“托管配置文件”。与托管配置文件关联的应用将与非托管应用一起出现在用户的启动器、“最近用过”屏幕以及通知中。启动器可以通过向图标绘图添加一个工作标记，使托管应用更加惹人注目
6. 改善屏幕截图，新增屏幕共享新增的屏幕共享对于会议非常有用；
7. 支持互作用复合传感器、倾斜探测器传感器、心率传感器，互作用复合传感器能够探测特别的手势，例如唤醒手势、筛选手势、浏览手势
8. 改善设备状态模式，Android5.0已经找不到静音模式，相关替代品是“优先”模式。5.0设备状态模式有3种，分别是“无”、“优先”、“全部”。在“无”模式下，意义达到不发出闹钟提醒，在默认“优先”模式下，相当于以前的“静音”，在“全部”模式下，相当于以前的“标准”。想要切换这3种状态，只需要按音量-或+键。
9. 手机支持访客模式；谷歌在Android 5.0中加入的访客模式，其实也有些姗姗来迟。在方可模式中，我们可以以机主的方式登陆手机，如果不想别人看到你手机的某些内容，你也可以偷偷切换到访客模式，最多可以添加4个访客。切换到这访客登录后，可以自行设置是否允许访客打接电话，并且此前机主模式下的环聊，也就是短信内容是无法再看到，需要访客重新添加谷歌账户，但是通话记录还是依然可见。因此访客登录在保护机主隐私上还可以更进一步

时尚版：1 Material design1.1 FloatingActionButton1.2 SnackBar1.3 NavigationView1.4 TabLayout1.5 CollapsingToolBarLayout1 6 RecycleView


### Android 4.4(KitKat)[API19]
2015年10月31日发布

1. 通过主机卡仿真技术，让手机支持更加安全NFC交易功能
2. 可以为app新增支持打印功能
3. 新的存储框架，方便用户打开、浏览相关文件、图片、视频和其他文件
4. 传感器更低消耗，新增步伐步测器和计步器
5. 新定义规则处理SMS或者MMS短信息，只支持设备默认接收短信息的应用写短信，其他应用只能查看；
6. 为富媒体例如图片、视频、图书、地图以及游戏提供了一种新的展示模式：沉浸式体验。在这种模式下，会隐藏掉状态栏、导航等，使用屏幕进行全屏展示。想要触发这种模式，用户只需要触摸屏幕周边或者离开屏幕点击一小会，系统会自动进入沉浸模式
7. 透明的系统UI样式

